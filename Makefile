DEBUG=-g
#DEBUG=
#STACK=-fno-stack-protector -fomit-frame-pointer
#STACK=-fomit-frame-pointer
#STACK=-fomit-frame-pointer -fstack-protector-all -DSTACK_PROTECTOR
STACK=-fomit-frame-pointer -fstack-protector -DSTACK_PROTECTOR
all: aslr naslr
aslr: c.c
	gcc -pie -fPIC $(STACK) $(DEBUG) -o aslr c.c
naslr: c.c
	gcc -o naslr $(STACK) $(DEBUG) c.c
	gcc -S -o naslr.S $(STACK) $(DEBUG) c.c 
run:
	./aslr;./naslr 
clean:
	rm -f aslr naslr naslr.S
